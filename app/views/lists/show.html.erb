<h1><%= @list.name %></h1>

<p><strong>Description:</strong> <%= @list.description %></p> <!-- Exibindo a descrição -->

<h3>Items:</h3>
<ul>
  <% @list.items.each do |item| %> <!-- Exibe todos os itens, sem filtro -->
    <li>
      <%= item.name %> 
      <% if item.due_date.present? %>
        (Due: <%= item.due_date %>)
      <% end %>
      - Status: <%= item.status.capitalize %>
      <%= button_to 'Toggle Status', toggle_status_list_item_path(@list, item), method: :patch, class: "btn btn-warning" %> <!-- Botão para alterar status -->
      <%= button_to 'Destroy', list_item_path(@list, item), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %>
    </li>
  <% end %>
</ul>

<h4>Add a new item:</h4>
<%= form_with(model: [@list, Item.new], local: true) do |form| %>
  <div>
    <%= form.text_field :name, placeholder: "New Item" %>
  </div>
  <div>
    <%= form.date_field :due_date, placeholder: "Due Date" %> <!-- Campo de data final -->
  </div>
  <div>
    <%= form.submit "Add Item" %>
  </div>
<% end %>

<%= link_to 'Back', lists_path %>
